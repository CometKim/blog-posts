---
title: 도커로 루비 온 레일즈 프로덕션 환경 구성하기
author: Hyeseong Kim
date: 2018-06-05
tags:
  - ruby
  - rails
  - docker
---



나는 이번에 루비 온 레일즈(이하 레일즈)를 학습하면서 만든 앱을 Dockerize 했는데, 이 과정을 통해 레일즈에 필요한 시스템 의존성은 무엇이 있는지, 기본적으로 어떤 환경변수들이 있는지, 관련 도구들이 어떤 것이 있는지 비교적 단기간에 학습할 수 있었다.

Dockerize란 도커를 이용해서 특정 서비스의 실행 스택을 가상화하되 **최소한의 구성요소**로 **자동화** 하는 것을 의미한다.


# Dockerfile로 Rails 이미지 만들기


# docker-compose로 서비스 정의하기

# Entrypoint 스크립트 만들기

# 마무리하며

사실 레일즈같은 MVC 프레임워크는 Docker랑 그다지 Fit이 맞지 않는다고 본다.

Docker는 [12factors app]()일 수록 조합이 잘 맞는데, 개발시간의 생산성을 추구하는 프레임워크는 자체에서 가져가는 역할이 너무 많아 12factors와는 거리가 멀다. 특히 레일즈에서 추구하는 Convention Over Configuration 개념은 엄청 안맞는 것 같다.

물론 이걸 통해 학습하는 내용들은 운영(Operation)에 관련된 것으로, 개발 생산성에는 큰 도움이 되지 않는다. (로컬에 환경 다 설치해서 쓰는게 개발시점에는 훨씬 효율적임)

야크쉐이빙이지만, 이런거 해보는게 알게모르게 나중에 삽질할일 줄여준다고 믿는다.
